# SwitchNOTNULL 动态输入版本

## 功能说明

非空切换节点，支持动态添加输入参数。

### 核心特性

1. **固定两个基础输入**
   - 主数据源（优先级最高）
   - 备选1（第二优先级）

2. **动态扩展**
   - 当"主数据源"和"备选1"都连接后，自动添加"备选2"
   - 继续连接会自动添加"备选3"、"备选4"...
   - 支持无限扩展

3. **智能清理**
   - 断开连接时，自动移除多余的空输入槽位
   - 始终保留至少一个空槽位用于新连接

4. **优先级处理**
   - 按顺序检查：主数据源 → 备选1 → 备选2 → ...
   - 返回第一个非空（非None）的值
   - 如果所有输入都为空，抛出错误

## 使用场景

### 1. 多级容错切换
```
主数据源（可能被bypass）
  ↓ 为空时
备选1（备用数据源）
  ↓ 为空时
备选2（第二备用）
  ↓ 为空时
备选3（最终备用）
```

### 2. 优先级数据选择
- 优先使用高质量数据源
- 降级使用备选数据源
- 确保工作流不中断

### 3. 复杂工作流路由
- 根据不同条件提供不同数据源
- 自动选择可用的数据路径

## 实现细节

### Python端
- 使用 `**kwargs` 接收动态参数
- 按预定义顺序检查输入
- 支持任意类型（`any_type`）

### JavaScript端
- 监听连接变化事件
- 自动管理输入槽位
- 保存/恢复输入配置

## 测试步骤

1. 添加 SwitchNOTNULL 节点到画布
2. 初始状态：显示"主数据源"和"备选1"两个输入
3. 连接"主数据源"：保持两个输入
4. 连接"备选1"：自动添加"备选2"
5. 连接"备选2"：自动添加"备选3"
6. 断开"备选2"：自动移除"备选3"（保留一个空槽位）
7. 运行工作流：输出第一个非空值

## 注意事项

- 输入名称固定为中文（主数据源、备选1、备选2...）
- 参数传递基于输入名称，不是索引
- 支持保存和加载工作流时恢复输入配置
